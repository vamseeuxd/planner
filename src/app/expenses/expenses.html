<div class="mat-elevation-z2 py-4 px-8 mx-12 my-8">
  <h3 class="m-0 p-0 mb-5 h-box w-100" style="font-weight: 500;color: #453135;justify-content: center;">Month : 10-JAN-2025</h3>
  <h3 class="m-0 p-0 mb-5 h-box" style="font-weight: 400;color: orangered;">Due (10) Amount<span class="ms-auto"> : {{2000|currency:'INR'}}</span></h3>
  <h3 class="m-0 p-0 mb-5 h-box" style="font-weight: 400;color: green;">Paid (10) Amount<span class="ms-auto"> : {{2000|currency:'INR'}}</span></h3>
  <h3 class="m-0 p-0 mb-5 h-box" style="font-weight: 400;color: blueviolet;">Total Amount<span class="ms-auto"> : {{2000|currency:'INR'}}</span></h3>
</div>
<mat-list
  role="list"
  class="mx-3"
  style="max-height: calc(100vh - 300px); overflow-y: auto;min-height: calc(100vh - 300px);"
>
  @for (item of expenses; track item.id) {
  <mat-list-item role="listitem" style="height: auto !important;border-bottom: 1px solid #e0c4c4;">
    <div class="h-box w-100">
      <div class="v-box w-100">
        <span class="fs-12 mt-8">{{item.name}}</span>
        <div class="v-box w-100 mb-8">
          <span style="color: orangered;" class="fs-8 mt-3 mb-3">DUE : {{item.dueDate | date:'dd-MMM-yyyy'}}</span>
          <span style="color: blueviolet;" class="fs-8 mt-3">PAID : {{item.settledDate | date:'dd-MMM-yyyy'}}</span>
        </div>
      </div>
      <div class="ms-auto fs-12" style="display: flex;align-items: center;color: green;">{{item.amount|currency:'INR'}}</div>
      <mat-icon [matMenuTriggerFor]="menu">more_vert</mat-icon>
      <mat-menu #menu="matMenu">
        <button mat-menu-item (click)="openEditForm(editForm,item)">
          <mat-icon>edit</mat-icon>
          <span>Edit</span>
        </button>
        <button mat-menu-item (click)="deleteExpense(item)">
          <mat-icon>delete</mat-icon>
          <span>Delete</span>
        </button>
        <button mat-menu-item (click)="openCloneForm(editForm,item)">
          <mat-icon>file_copy</mat-icon>
          <span>Clone</span>
        </button>
      </mat-menu>
      <!-- <button matIconButton class="ms-auto">
      </button> -->
    </div>
  </mat-list-item>
  } @empty {
  <li>There are no items.</li>
  }
</mat-list>

<div class="h-box w-100 mt-10 mb-5 mx-3">
  <!-- <button  matButton="elevated" class="ms-auto me-auto" (click)="openAddForm(editForm)"><mat-icon>add</mat-icon>Add New Expense</button> -->
  <button matButton class="me-auto ms-10" (click)="openAddForm(editForm)">
    <mat-icon>add</mat-icon>
    Add
  </button>
  <mat-menu #filterList="matMenu">
    <div mat-menu-item class="me-8" style="border-bottom: 1px solid #e0c4c4;"> <mat-checkbox>Pending</mat-checkbox> </div>
    <div mat-menu-item class="me-8"> <mat-checkbox>Settled</mat-checkbox> </div>
  </mat-menu>
  <button matButton [matMenuTriggerFor]="filterList" class="ms-auto me-10"> Filters <mat-icon>filter_list</mat-icon> </button>
</div>

<ng-template #editForm>
  <h3 class="p-0" style="color: #453135; font-weight: 500; text-align: center; margin: 8px 0px; ">{{formTitle}}</h3>
  <form #editExpenseForm="ngForm" autocomplete="off" class="v-box p-5">
    <mat-form-field appearance="outline" class="w-100 mb-10">
    <mat-label>Expense Title</mat-label>
    <input matInput required [ngModel]="defaultValues.name" name="name" type="text" placeholder="Expense Title">
  </mat-form-field>
  <mat-form-field appearance="outline" class="w-100 mb-10">
    <mat-label>Expense Due Date</mat-label>
    <input matInput required type="date" [ngModel]="defaultValues.dueDate" name="dueDate" placeholder="Expense Due Date">
  </mat-form-field>
  <mat-form-field appearance="outline" class="w-100 mb-10">
    <mat-label>Expense Settled Date</mat-label>
    <input matInput required type="date" [ngModel]="defaultValues.settledDate" name="settledDate" placeholder="Expense Settled Date">
  </mat-form-field>
  <mat-form-field appearance="outline" class="w-100 mb-10">
    <mat-label>Expense Amount</mat-label>
    <input matInput required type="number" [ngModel]="defaultValues.amount" name="amount" placeholder="Expense Amount">
  </mat-form-field>
  <div class="h-box w-100 mt-10">
    <button mat-raised-button style="width: 50%;" (click)="editExpenseForm.resetForm({});bottomSheet.dismiss()">Close</button>
    <button mat-raised-button style="width: 50%;" [disabled]="editExpenseForm.invalid" color="primary" (click)="save(editExpenseForm,bottomSheet);" class="ms-10">Save</button>
  </div>
  </form>
</ng-template>
